webpackJsonp([4],{"2lgK":function(t,a){},DBLj:function(t,a){},RVEq:function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=i("3pLw"),s=i("7QTg"),o={name:"LoansPlatform",props:{platform:{type:Object}}},n={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"platform-item border-bottom"},[i("div",{staticClass:"platform-msg"},[i("span",{staticClass:"platform-icon"},[i("img",{attrs:{src:t.platform.logo,alt:""}})]),t._v(" "),i("span",{staticClass:"platform-name"},[t._v(t._s(t.platform.name))])]),t._v(" "),i("div",{staticClass:"platform-content"},[i("div",{staticClass:"platform-limits border-right"},[i("span",{staticClass:"num"},[t._v(t._s(t.platform.tag1))]),i("div",{staticClass:"dec"},[t._v(t._s(t.platform.tag2))])]),t._v(" "),i("div",{staticClass:"platform-decribe"},[t._v("\n  \t\t\t"+t._s(t.platform.tag3)+"\n        "),i("div",{staticClass:"dec"},[t._v(t._s(t.platform.tag4))])])])])},staticRenderFns:[]};var r=i("VU/8")(o,n,!1,function(t){i("lgA7")},"data-v-9c0bd41c",null).exports,l={name:"LoansPlatform",props:{tip:{type:String}}},c={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"tip-wraper"},[a("div",{staticClass:"tip-inner"},[a("span",{staticClass:"block border-bottom left"}),this._v(" "),a("span",{staticClass:"dot left"}),this._v(" "),a("p",[this._v(this._s(this.tip))]),this._v(" "),a("span",{staticClass:"dot right"}),this._v(" "),a("span",{staticClass:"block border-bottom right"})])])},staticRenderFns:[]};var p=i("VU/8")(l,c,!1,function(t){i("2lgK")},"data-v-1540270e",null).exports,d=null,m={name:"home",components:{swiper:s.swiper,swiperSlide:s.swiperSlide,LoansPlatform:r,LoansTip:p},data:function(){return{showEmptyView:!1,activityShow:!1,imgShow:!1,tip:"平台即将上线，敬请期待",swiperOption:{effect:"coverflow",grabCursor:!0,autoplay:!0,centeredSlides:!0,slidesPerView:"auto",coverflowEffect:{rotate:0,stretch:-70,depth:400,modifier:.5,slideShadows:!1},loop:!0,observer:!0,observeParents:!0,on:{click:function(){var t=this.realIndex;d.handleClickSlide(t)}}},banner:[],platformList:[],page:1,limit:20,canLoadMore:!0,disabledLoadMore:!0}},watch:{canLoadMore:function(t){this.disabledLoadMore=!t}},created:function(){d=this,document.title="贷款",this.getBanner(),this.getPlatformList(!1)},methods:{handleClickSlide:function(t){var a=this.banner[t];this.addClick(a)},addClick:function(t){""!=t.url?(console.log(t),e.a.postWithoutCode("/web/banner/click",{id:t.id}).then(function(t){}),0==t.type?this.ToAppADWebPage(t.url,{title:t.title}):this.ToBrowserFromAppPage(t.url)):console.log("跳转Url为空")},bankDetail:function(t){if(this.isPC())this.$router.push({name:"LoansMarket",query:t});else{var a=window.location.protocol+"//"+window.location.host+"/"+"wap/cardmarket/LoansMarket";this.ToAppPage(a,t)}},getBanner:function(){var t=this;e.a.postWithoutCode("/web/banner/list",{position:12}).then(function(a){t.banner=a.list,t.banner.length>0?t.imgShow=!0:t.imgShow=!1})},getPlatformList:function(t){var a=this;e.a.postWithoutCode("/loan/plat/list",{page:this.page,limit:this.limit}).then(function(i){t&&i.page.list.length>0?a.platformList=a.platformList.concat(i.page.list):a.platformList=i.page.list,a.platformList.length>=i.page.totalNum?a.canLoadMore=!1:a.canLoadMore=!0,0==a.platformList.length?a.showEmptyView=!0:a.showEmptyView=!1})},loadMore:function(){console.log("loadMore"),this.page++,this.getPlatformList(!0)}}},f={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"home-wrap"},[t.imgShow?i("div",{staticClass:"loan-top"},[t.imgShow?i("div",{staticClass:"home-banner"},[1==t.banner.length?i("div",{staticClass:"single-image"},[i("div",{on:{click:function(a){t.addClick(t.banner[0])}}},[i("img",{attrs:{src:t.banner[0].image}})])]):i("div",[i("swiper",{ref:"homebanner",staticClass:"loan-swiper",attrs:{options:t.swiperOption}},t._l(t.banner,function(t,a){return i("swiper-slide",{key:a},[i("div",[i("img",{attrs:{src:t.image}})])])}))],1)]):t._e()]):t._e(),t._v(" "),i("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"platform-wrap",attrs:{"infinite-scroll-disabled":"disabledLoadMore","infinite-scroll-distance":"10"}},[t._l(t.platformList,function(a,e){return i("loans-platform",{key:e,attrs:{platform:a},nativeOn:{click:function(i){t.bankDetail(a)}}})}),t._v(" "),t.showEmptyView?i("img",{staticClass:"empty",attrs:{src:"/static/images/empty_wap.png",alt:""}}):t._e()],2),t._v(" "),t.canLoadMore?i("div",{staticClass:"weui-loadmore"},[i("i",{staticClass:"weui-loading"}),t._v(" "),i("span",{staticClass:"weui-loadmore__tips"},[t._v("正在加载")])]):i("loans-tip",{attrs:{tip:t.tip}})],1)},staticRenderFns:[]};var h=i("VU/8")(m,f,!1,function(t){i("DBLj")},"data-v-dc401e72",null);a.default=h.exports},lgA7:function(t,a){}});